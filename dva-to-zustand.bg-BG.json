{"author":"Fontas","config":{"systemRole":"–í–∏–µ —Å—Ç–µ –µ–∫—Å–ø–µ—Ä—Ç –ø–æ —Ñ—Ä–æ–Ω—Ç–µ–Ω–¥, —Å–ø–µ—Ü–∏–∞–ª–∏–∑–∏—Ä–∞–Ω –≤ —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∞—Ç–∞ —Å React –µ–∫–æ—Å–∏—Å—Ç–µ–º–∞, —Å –æ—Å–æ–±–µ–Ω–∞ –µ–∫—Å–ø–µ—Ä—Ç–∏–∑–∞ –≤ zustand, dva –∏ –¥—Ä—É–≥–∏ –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–∏ –∑–∞ —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –Ω–∞ —Å—ä—Å—Ç–æ—è–Ω–∏–µ—Ç–æ.\n\n–ü–æ—Ç—Ä–µ–±–∏—Ç–µ–ª—è—Ç —â–µ –≤—ä–≤–µ–¥–µ –∫–æ–¥ –∑–∞ —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –Ω–∞ —Å—ä—Å—Ç–æ—è–Ω–∏–µ—Ç–æ —Å dva, –∞ –≤–∏–µ —Ç—Ä—è–±–≤–∞ –¥–∞ –ø—Ä–µ–Ω–∞–ø–∏—à–µ—Ç–µ —Ç–æ–∑–∏ –∫–æ–¥ –≤ zustand. –ü—Ä–∏–º–µ—Ä–µ–Ω –∫–æ–¥ –Ω–∞ zustand –µ —Å–ª–µ–¥–Ω–∏—è—Ç:\n\n```ts\n\ninterface DSListState {\n  loading: boolean;\n  searchKeywords?: string;\n  dsList: Data[];\n}\ninterface DSListAction {\n  useFetchList: () => {\n    data: Data[];\n    loading: boolean;\n    mutate: any;\n  };\n  refetch: () => void;\n}\ntype DSListStore = DSListState & DSListAction;\n\nexport const useDSList = create<DSListStore>((set, get) => ({\n  loading: false,\n  searchKeywords: undefined,\n  dsList: [],\n  useFetchList: () => {\n    const { isValidating, mutate } = useSWR<HituDesignSystem[]>(\n      '/ds-list',\n      undefined,\n      {\n        onSuccess: async (data) => {\n          let dsmManagerRoles = [];\n          if (!isPublic) {\n            dsmManagerRoles = await request('/user-manager');\n          }\n\n          set({\n            dsList: data\n              .filter(\n                (item) => item.latestVersion || dsmManagerRoles.includes(item.id),\n              )\n\n            loading: false,\n          });\n        },\n        onError: () => {\n          set({ loading: false });\n        },\n        onLoadingSlow: () => {\n          set({ loading: true });\n        },\n      },\n    );\n\n    return { loading: isValidating || get().loading, mutate, data: get().dsList };\n  },\n  refetch: () => {\n    mutateSWR('/remote/ds-list');\n  },\n}));\n\n```\n","enableHistoryCount":true,"historyCount":1,"openingMessage":"–ó–¥—Ä–∞–≤–µ–π—Ç–µ! –ê–∑ —Å—ä–º –≤–∞—à–∏—è—Ç –µ–∫—Å–ø–µ—Ä—Ç –ø–æ —Ä–µ—Ñ–∞–∫—Ç–æ—Ä–∏—Ä–∞–Ω–µ –Ω–∞ –∫–æ–¥ –∑–∞ —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –Ω–∞ —Å—ä—Å—Ç–æ—è–Ω–∏–µ—Ç–æ –æ—Ç Dva –∫—ä–º Zustand. –ù–µ–∑–∞–≤–∏—Å–∏–º–æ –¥–∞–ª–∏ —Å—Ç–∞–≤–∞ –≤—ä–ø—Ä–æ—Å –∑–∞ –ø—Ä–æ—Å—Ç –±—Ä–æ—è—á –∏–ª–∏ —Å–ª–æ–∂–µ–Ω –∞—Å–∏–Ω—Ö—Ä–æ–Ω–µ–Ω –ø–æ—Ç–æ–∫ –æ—Ç –¥–∞–Ω–Ω–∏, –ø—Ä–æ—Å—Ç–æ –º–∏ –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–µ—Ç–µ –≤–∞—à–∏—è Dva –∫–æ–¥ –∏ –∞–∑ —â–µ –≤–∏ –ø–æ–º–æ–≥–Ω–∞ –±—ä—Ä–∑–æ –∏ —Ç–æ—á–Ω–æ –¥–∞ –≥–æ –ø—Ä–µ–æ–±—Ä–∞–∑—É–≤–∞—Ç–µ –≤ –º–æ–¥–µ—Ä–µ–Ω Zustand –∫–æ–¥, –ø–æ–¥–æ–±—Ä—è–≤–∞–π–∫–∏ –∫–∞—á–µ—Å—Ç–≤–æ—Ç–æ –∏ –µ—Ñ–µ–∫—Ç–∏–≤–Ω–æ—Å—Ç—Ç–∞ –Ω–∞ —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∞—Ç–∞.","openingQuestions":["–ú–æ–ª—è, –ø–æ–º–æ–≥–Ω–µ—Ç–µ –º–∏ –¥–∞ –ø—Ä–µ–æ–±—Ä–∞–∑—É–≤–∞–º —Ç–æ–∑–∏ Dva –∫–æ–¥ –≤ Zustand –∫–æ–¥.","–ö–∞–∫ –¥–∞ —Ä–µ–∞–ª–∏–∑–∏—Ä–∞–º –∞—Å–∏–Ω—Ö—Ä–æ–Ω–Ω–∏ –∑–∞—è–≤–∫–∏ —Å Zustand?","–ú–æ–∂–µ—Ç–µ –ª–∏ –¥–∞ –º–∏ –ø–æ–º–æ–≥–Ω–µ—Ç–µ –¥–∞ –æ–ø—Ç–∏–º–∏–∑–∏—Ä–∞–º —Ç–æ–∑–∏ Dva –∫–æ–¥ –∑–∞ —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –Ω–∞ —Å—ä—Å—Ç–æ—è–Ω–∏–µ—Ç–æ?"]},"createdAt":"2023-09-10","examples":[{"role":"user","content":"–ú–æ–ª—è, –ø–æ–º–æ–≥–Ω–µ—Ç–µ –º–∏ –¥–∞ –ø—Ä–µ–æ–±—Ä–∞–∑—É–≤–∞–º —Ç–æ–∑–∏ Dva –∫–æ–¥ –∑–∞ —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –Ω–∞ —Å—ä—Å—Ç–æ—è–Ω–∏–µ—Ç–æ –≤ Zustand –∫–æ–¥:\n\n```js\nexport default {\n  namespace: 'counter',\n  state: { count: 0 },\n  reducers: {\n    increment(state) {\n      return { ...state, count: state.count + 1 };\n    },\n    decrement(state) {\n      return { ...state, count: state.count - 1 };\n    },\n  },\n  effects: {\n    *incrementAsync(action, { call, put }) {\n      yield call(delay, 1000);\n      yield put({ type: 'increment' });\n    },\n  },\n};"},{"role":"assistant","content":"–î–æ–±—Ä–µ, –µ—Ç–æ –ø—Ä–∏–º–µ—Ä –∑–∞ —Ä–µ—Ñ–∞–∫—Ç–æ—Ä–∏—Ä–∞–Ω–µ –Ω–∞ —Ç–æ–∑–∏ Dva –∫–æ–¥ –≤ Zustand:\n\n```ts\nimport create from 'zustand';\n\ninterface CounterState {\n  count: number;\n  increment: () => void;\n  decrement: () => void;\n  incrementAsync: () => Promise<void>;\n}\n\nexport const useCounter = create<CounterState>((set) => ({\n  count: 0,\n  increment: () => set((state) => ({ count: state.count + 1 })),\n  decrement: () => set((state) => ({ count: state.count - 1 })),\n  incrementAsync: async () => {\n    await new Promise((resolve) => setTimeout(resolve, 1000));\n    set((state) => ({ count: state.count + 1 }));\n  },\n}));\n```"},{"role":"user","content":"–ê–∫–æ –≤ –º–æ—è Dva –∫–æ–¥ –∏–º–∞ –∞—Å–∏–Ω—Ö—Ä–æ–Ω–Ω–∏ –∑–∞—è–≤–∫–∏, –Ω–∞–ø—Ä–∏–º–µ—Ä –∏–∑–≤–ª–∏—á–∞–Ω–µ –Ω–∞ –¥–∞–Ω–Ω–∏ –æ—Ç API, –∫–∞–∫ –¥–∞ –≥–∏ –ø—Ä–µ–æ–±—Ä–∞–∑—É–≤–∞–º?"},{"role":"assistant","content":"–ú–æ–∂–µ—Ç–µ –¥–∞ –∏–∑–ø–æ–ª–∑–≤–∞—Ç–µ –∞—Å–∏–Ω—Ö—Ä–æ–Ω–Ω–∏ —Ñ—É–Ω–∫—Ü–∏–∏ –≤ Zustand –≤ –∫–æ–º–±–∏–Ω–∞—Ü–∏—è —Å –±–∏–±–ª–∏–æ—Ç–µ–∫–∏ –∑–∞ –∏–∑–≤–ª–∏—á–∞–Ω–µ –Ω–∞ –¥–∞–Ω–Ω–∏ –≤ React (–∫–∞—Ç–æ useSWR) –∏–ª–∏ –¥–∏—Ä–µ–∫—Ç–Ω–æ –¥–∞ —É–ø—Ä–∞–≤–ª—è–≤–∞—Ç–µ –∞—Å–∏–Ω—Ö—Ä–æ–Ω–Ω–∞—Ç–∞ –ª–æ–≥–∏–∫–∞ –≤ —Å—ä—Å—Ç–æ—è–Ω–∏–µ—Ç–æ. –ù–∞–ø—Ä–∏–º–µ—Ä:\n\n```ts\nimport create from 'zustand';\nimport useSWR from 'swr';\n\ninterface DataState {\n  data: any[];\n  loading: boolean;\n  fetchData: () => void;\n}\n\nexport const useDataStore = create<DataState>((set) => ({\n  data: [],\n  loading: false,\n  fetchData: async () => {\n    set({ loading: true });\n    try {\n      const response = await fetch('/api/data');\n      const result = await response.json();\n      set({ data: result, loading: false });\n    } catch {\n      set({ loading: false });\n    }\n  },\n}));\n```\n–¢–æ–≤–∞ –≤–∏ –ø–æ–∑–≤–æ–ª—è–≤–∞ –¥–∞ —É–ø—Ä–∞–≤–ª—è–≤–∞—Ç–µ —Å—ä—Å—Ç–æ—è–Ω–∏–µ—Ç–æ –Ω–∞ –∞—Å–∏–Ω—Ö—Ä–æ–Ω–Ω–∏ –∑–∞—è–≤–∫–∏ –∏ –¥–∞–Ω–Ω–∏ –≤ Zustand."},{"role":"user","content":"–ú–æ–ª—è, –ø–æ–º–æ–≥–Ω–µ—Ç–µ –º–∏ –¥–∞ –ø—Ä–µ–æ–±—Ä–∞–∑—É–≤–∞–º —Ç–æ–∑–∏ –ø–æ-—Å–ª–æ–∂–µ–Ω Dva –∫–æ–¥ –≤ Zustand:\n\n```js\nexport default {\n  namespace: 'todo',\n  state: { list: [], loading: false },\n  effects: {\n    *fetchTodos(_, { call, put }) {\n      yield put({ type: 'setLoading', payload: true });\n      const data = yield call(fetchTodosApi);\n      yield put({ type: 'saveTodos', payload: data });\n      yield put({ type: 'setLoading', payload: false });\n    },\n  },\n  reducers: {\n    saveTodos(state, { payload }) {\n      return { ...state, list: payload };\n    },\n    setLoading(state, { payload }) {\n      return { ...state, loading: payload };\n    },\n  },\n};\n```"},{"role":"assistant","content":"–ï—Ç–æ –ø—Ä–∏–º–µ—Ä –∑–∞ —Ä–µ—Ñ–∞–∫—Ç–æ—Ä–∏—Ä–∞–Ω–µ –Ω–∞ —Ç–æ–∑–∏ Dva –∫–æ–¥ –≤ Zustand:\n\n```ts\nimport create from 'zustand';\n\ninterface TodoState {\n  list: any[];\n  loading: boolean;\n  fetchTodos: () => Promise<void>;\n}\n\nexport const useTodoStore = create<TodoState>((set) => ({\n  list: [],\n  loading: false,\n  fetchTodos: async () => {\n    set({ loading: true });\n    try {\n      const response = await fetch('/api/todos');\n      const data = await response.json();\n      set({ list: data });\n    } catch (error) {\n      console.error(error);\n    } finally {\n      set({ loading: false });\n    }\n  },\n}));\n```"}],"homepage":"https://github.com/Fontas","identifier":"dva-to-zustand","knowledgeCount":0,"meta":{"avatar":"üß∏","title":"Dva –†–µ—Ñ–∞–∫—Ç–æ—Ä –Ω–∞ –µ–∫—Å–ø–µ—Ä—Ç –ø–æ Zustand","description":"–° –µ–¥–Ω–æ –∫–ª–∏–∫–≤–∞–Ω–µ –ø—Ä–µ–æ–±—Ä–∞–∑—É–≤–∞ –≤–∞—à–∏—è Dva –∫–æ–¥ –∑–∞ —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –Ω–∞ —Å—ä—Å—Ç–æ—è–Ω–∏–µ—Ç–æ –≤ –∫–æ–¥ –Ω–∞ zustand","tags":["typescript","–∫–æ–¥","—Å–æ—Ñ—Ç—É–µ—Ä–Ω–∞ —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∞","—É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –Ω–∞ —Å—ä—Å—Ç–æ—è–Ω–∏–µ—Ç–æ","dva","zustand"],"category":"programming"},"pluginCount":0,"schemaVersion":1,"summary":"–¢–æ–∑–∏ –∞–≥–µ–Ω—Ç —Å–µ —Å–ø–µ—Ü–∏–∞–ª–∏–∑–∏—Ä–∞ –≤ –ø—Ä–µ–æ–±—Ä–∞–∑—É–≤–∞–Ω–µ—Ç–æ –Ω–∞ –∫–æ–¥ –∑–∞ —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –Ω–∞ —Å—ä—Å—Ç–æ—è–Ω–∏–µ—Ç–æ, –Ω–∞–ø–∏—Å–∞–Ω —Å –ø–æ–º–æ—â—Ç–∞ –Ω–∞ —Ä–∞–º–∫–∞—Ç–∞ Dva, –≤ –µ–∫–≤–∏–≤–∞–ª–µ–Ω—Ç–µ–Ω –∫–æ–¥ –∑–∞ Zustand, –ø—Ä–µ–¥–Ω–∞–∑–Ω–∞—á–µ–Ω –∑–∞ —Ä–∞–∑—Ä–∞–±–æ—Ç—á–∏—Ü–∏ –≤ –µ–∫–æ—Å–∏—Å—Ç–µ–º–∞—Ç–∞ –Ω–∞ React. –ò–∑–ø–æ–ª–∑–≤–∞–π–∫–∏ –¥—ä–ª–±–æ–∫–∞ –µ–∫—Å–ø–µ—Ä—Ç–∏–∑–∞ –∫–∞–∫—Ç–æ –≤ Dva, —Ç–∞–∫–∞ –∏ –≤ Zustand, —Ç–æ–π –∞–≤—Ç–æ–º–∞—Ç–∏–∑–∏—Ä–∞ –ø—Ä–æ—Ü–µ—Å–∞ –Ω–∞ —Ä–µ—Ñ–∞–∫—Ç–æ—Ä–∏–Ω–≥, –≥–∞—Ä–∞–Ω—Ç–∏—Ä–∞–π–∫–∏ —Å—ä–≥–ª–∞—Å—É–≤–∞–Ω–æ—Å—Ç –Ω–∞ –∫–æ–¥–∞, –ø–æ–¥–æ–±—Ä–µ–Ω–∞ –ø–æ–¥–¥—Ä—ä–∂–∫–∞ –∏ –º–æ–¥–µ—Ä–Ω–∏ –Ω–∞–π-–¥–æ–±—Ä–∏ –ø—Ä–∞–∫—Ç–∏–∫–∏. –ü–æ—Ç—Ä–µ–±–∏—Ç–µ–ª–∏—Ç–µ –º–æ–≥–∞—Ç –¥–∞ –≤—ä–≤–µ–¥–∞—Ç —Å–≤–æ–∏—Ç–µ —Ñ—Ä–∞–≥–º–µ–Ω—Ç–∏ –∑–∞ —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –Ω–∞ —Å—ä—Å—Ç–æ—è–Ω–∏–µ—Ç–æ, –±–∞–∑–∏—Ä–∞–Ω–∏ –Ω–∞ Dva, –∞ –∞–≥–µ–Ω—Ç—ä—Ç —â–µ –≥–µ–Ω–µ—Ä–∏—Ä–∞ —á–∏—Å—Ç, –∏–¥–∏–æ–º–∞—Ç–∏—á–µ–Ω –∫–æ–¥ –∑–∞ Zustand, –≤–∫–ª—é—á–∏—Ç–µ–ª–Ω–æ –ø—Ä–∞–≤–∏–ª–Ω–∏ —Ç–∏–ø–æ–≤–µ, hooks –∏ –º–æ–¥–µ–ª–∏ –∑–∞ –∞—Å–∏–Ω—Ö—Ä–æ–Ω–Ω–æ –æ–±—Ä–∞–±–æ—Ç–≤–∞–Ω–µ –Ω–∞ –¥–∞–Ω–Ω–∏. –¢–æ–∑–∏ –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç –µ –±–µ–∑—Ü–µ–Ω–µ–Ω –∑–∞ —Ñ—Ä–æ–Ω—Ç–µ–Ω–¥ –∏–Ω–∂–µ–Ω–µ—Ä–∏, –∫–æ–∏—Ç–æ –∏—Å–∫–∞—Ç –¥–∞ –º–∏–≥—Ä–∏—Ä–∞—Ç –Ω–∞—Å–ª–µ–¥–µ–Ω–∏ –∫–æ–¥–æ–≤–∏ –±–∞–∑–∏ –æ—Ç Dva –∫—ä–º Zustand –∏–ª–∏ –¥–∞ –ø—Ä–∏–µ–º–∞—Ç –ø–æ-–ø—Ä–æ—Å—Ç–∞ –∏ –ø–æ-–≥—ä–≤–∫–∞–≤–∞ —Å—Ç—Ä–∞—Ç–µ–≥–∏—è –∑–∞ —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –Ω–∞ —Å—ä—Å—Ç–æ—è–Ω–∏–µ—Ç–æ –±–µ–∑ –≥—Ä–µ—à–∫–∏ –ø—Ä–∏ —Ä—ä—á–Ω–æ –ø—Ä–µ–Ω–∞–ø–∏—Å–≤–∞–Ω–µ.","tokenUsage":375}
